<!DOCTYPE HTML>
<html>
<head>
<link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
<title>{% if request.user.is_authenticated %}Logged In{% else %}Not Logged In{% endif %}</title>
    {% csrf_token %}
    {% load staticfiles %}
        <style>
            .login-body {
                font-family: 'Inconsolata', monospace;
                background-color: plum;
            }

            .pull-right {
                float:right;
                font-family: 'Inconsolata', monospace;
            }

            .flex-container {
                display: -webkit-flex;
                display: flex;
                -webkit-flex-direction: row;
                flex-direction: row;
                text-align: center;
                font-family: 'Inconsolata', monospace;
            }

            .flex-container > * {
                padding: 0px;
                -webkit-flex: 1 100%;
                flex: 1 100%;
            }

            .detail {
                padding: 0;
                margin: 0;
                display: inline-block;
                border-width: 10px;
                border-style: solid;
                border-color: aquamarine;
                font-family: 'Inconsolata', monospace;
            }

            .card {
                position: relative;
                float: left;
                padding-bottom: 0%;
                width: 100%;
                text-align: center;
                background-color: gray;
            }

            .card__front,
            .card__back {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }

            .card__front,
            .card__back {
                background-color: gray;
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
                -webkit-transition: -webkit-transform 0.3s;
                transition: transform 0.3s;
            }

            .card__back {
                background-color: gray;
                -webkit-transform: rotateY(-180deg);
                transform: rotateY(-180deg);
        }

            .card.effect__click.flipped .card__front {
                -webkit-transform: rotateY(-180deg);
                transform: rotateY(-180deg);
            }

            .card.effect__click.flipped .card__back {
                -webkit-transform: rotateY(0);
                transform: rotateY(0);
            }
            .footer {
                background-color: teal;
                position: relative;
                right: 0;
                bottom: 0;
                left: 0;
                padding: .5rem;
                text-align: center;
                font-family: 'Inconsolata', monospace;

                         }
                .image_box {
                    display: -webkit-flex;
                    display: inline-flex;
                    -webkit-flex-direction: row;
                    flex-direction: row;
                    text-align: center;
                    width: 417px;
                    height: 640px;
            }

            #outer_box {
                    display:inline-flex;;
                    /*flex-direction: row;
                    flex-wrap: wrap;*/
                    /*text-align: center;
                    background-color: #98ff98;
                    position: relative;*/

            #carousel {
              overflow:hidden;
              position:relative;
              width:auto;
            }

            #carousel ul {
                -moz-box-orient:horizontal;
                -ms-box-orient:horizontal;
                -webkit-box-orient:horizontal;
                -o-box-orient:horizontal;
                box-orient:horizontal;

                display:-moz-box;
                display:-ms-box;
                display:-webkit-box;
                display:-o-box;
                display:box;

                list-style-type:none;
                margin:0;
                padding:0;
            }

            #carousel li {
                height:200px;
                margin-right:10px;
                width:200px;
            }
    /*<!-- <link rel="stylesheet" type="text/css" href="/static/comic-detail.css"> -->*/

        </style>
</head>


<body class = "{% if request.user.is_authenticated %}login-body{% else %}logged-out{% endif %}">

    {% if request.user.is_authenticated %}
        <a href="/accounts/logout/" class="pull-right">Logout</a>
        {{ request.user.username }}

    {% if request.user.profile.account_verified %} (verified) {% else %} (unverified) {% endif %}
    <div>
        <form action="/comics/add/" method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <input type="submit" value="Search">
        <br>
        <br>
    <!-- <div class="form-group">
    <label for="exampleInputFile">File input</label>
    <input type="file" id="exampleInputFile">
    </div> -->
        </form>

    <div class="flex-container">

        <div id='outer_box'>

                {% for comic in view.get_queryset %}
                    <div class='image_box'>
                    <div class='card id'='carousel'>
                    <div class="card effect__click">
		                 <div class="card__front">
                        <img src={{ comic.comic_issue.cover_art }} alt="Cover Art Not Found">
                        </div>
                        <div class="card__back">
                            <br>
                            <br>
                            <h1>{{comic.comic_issue.series}}
                            <br>
                                {{comic.comic_issue.issue_number}}</h1>
                            <br>
                            <br>
                               {{comic.comic_issue.description}}



                        </div>
                    </div>
                    </div>
                    </div>
                    </div>
                {% endfor %}

        </div>


    </div>

    <div class='footer'>
    bubblegum the kid production
    </div>
{% else %}
    <a href="/accounts/login/" class="pull-right">Login</a>
{% endif %}

<script>
            (function() {
                var cards = document.querySelectorAll(".card.effect__click");
                for ( var i  = 0, len = cards.length; i < len; i++ ) {
                var card = cards[i];
               console.log(card)
            clickListener( card );
                }

            function clickListener(card) {
                card.addEventListener( "click", function() {
                var c = this.classList;
                c.contains("flipped") === true ? c.remove("flipped") : c.add("flipped");
                });
              }
            })();

            function changeOrdinal() {

              var length = items.children.length,
                  ordinal = 0;

              // start at the item BEFORE the active one.
              var index = active-1;

              /* if the active item was 0, we're now at -1 so
                  set to the last item */
              if (index < 0) {
                  index = length-1;
              }

              // now run through adding the ordinals
              while ( ordinal < length ) {
                  // add 1 to the ordinal - ordinal cannot be 0.
                  ordinal++;

                  // check the item definetely exists :)
                  var item = items.children[index];
                  if ( item && item.style ) {
                      // new ordinal value
                      item.style[boxOrdinalGroup] = ordinal;
                  }

                  /* as we are working from active we need to go back to
                     the start if we reach the end of the item list */
                  if ( index < length-1 ) {
                      index++;
                  } else {
                      index = 0;
                  }
              }
            }
</script>

<script>
    // attach the onclick event
function move(inc){
    var box = document.getElementById('outer_box');
    var x_pos = box.offsetLeft;
    box.style.left = (x_pos+inc) + 'px';
}
</script>
</body>
</html>
